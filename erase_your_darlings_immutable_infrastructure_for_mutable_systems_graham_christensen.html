<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Erase your darlings: immutable infrastructure for mutable systems - Graham Christensen</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/c5198630dc662cd9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c5198630dc662cd9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-a85322f027b40e20.js" defer=""></script><script src="/_next/static/chunks/main-00e108e884e8ba17.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5e7e1e817aab6e29.js" defer=""></script><script src="/_next/static/chunks/929-fd697a5772151b77.js" defer=""></script><script src="/_next/static/chunks/329-4859dea2fee324e7.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...slug%5D%5D-36a5cddfb88d7ae3.js" defer=""></script><script src="/_next/static/ic2Hv85zWOGZC6H3QKmQA/_buildManifest.js" defer=""></script><script src="/_next/static/ic2Hv85zWOGZC6H3QKmQA/_ssgManifest.js" defer=""></script></head><body><div id="__next"><main><h1>Erase your darlings: immutable infrastructure for mutable systems - Graham Christensen</h1><dl><dt>url</dt><dd><a href="https://grahamc.com/blog/erase-your-darlings/">https://grahamc.com/blog/erase-your-darlings/</a></dd></dl><p>Deeply terrifying inbox-zero quest for intentionality around working machine state.
</p><p>I&#x27;m a hoarder. Like Bernadette doing KonMari, I notice that this approach to daily-driver maintenance  is irrelevant to me in its highest form. My personal machine is a pet, not cattle.
</p><p>Nonetheless, we can understand a lot about how to keep our pets well-groomed from this approach. We ultimately want to create a stable workflow to <a href="/20230808100433-elevate_state_to_configuration">elevate state to configuration</a>.
</p><blockquote><p>Opting out
</p><p>Before we can opt in to saving data, we must opt out of saving data by default. I do this by setting up my filesystem in a way that lets me easily and safely erase the unwanted data, while preserving the data I do want to keep.
</p><p>My preferred method for this is using a ZFS dataset and rolling it back to a blank snapshot before it is mounted. A partition of any other filesystem would work just as well too, running mkfs at boot, or something similar. If you have a lot of RAM, you could skip the erase step and make / a tmpfs.
</p></blockquote><section><h2>Backlinks</h2><ul><li><a href="/all_pages">All Pages</a></li></ul></section></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Erase your darlings: immutable infrastructure for mutable systems - Graham Christensen","hast":{"type":"root","children":[{"type":"element","tagName":"dl","properties":{},"children":[{"type":"element","tagName":"dt","properties":{},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"dd","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://grahamc.com/blog/erase-your-darlings/"},"children":[{"type":"text","value":"https://grahamc.com/blog/erase-your-darlings/"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Deeply terrifying inbox-zero quest for intentionality around working machine state.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I'm a hoarder. Like Bernadette doing KonMari, I notice that this approach to daily-driver maintenance  is irrelevant to me in its highest form. My personal machine is a pet, not cattle.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Nonetheless, we can understand a lot about how to keep our pets well-groomed from this approach. We ultimately want to create a stable workflow to "},{"type":"element","tagName":"a","properties":{"href":"/20230808100433-elevate_state_to_configuration"},"children":[{"type":"text","value":"elevate state to configuration"}]},{"type":"text","value":".\n"}]},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Opting out\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before we can opt in to saving data, we must opt out of saving data by default. I do this by setting up my filesystem in a way that lets me easily and safely erase the unwanted data, while preserving the data I do want to keep.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"My preferred method for this is using a ZFS dataset and rolling it back to a blank snapshot before it is mounted. A partition of any other filesystem would work just as well too, running mkfs at boot, or something similar. If you have a lot of RAM, you could skip the erase step and make / a tmpfs.\n"}]}]}]},"filetags":{},"backlinks":[{"path":"/all_pages","title":"All Pages"}]},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["erase_your_darlings_immutable_infrastructure_for_mutable_systems_graham_christensen"]},"buildId":"ic2Hv85zWOGZC6H3QKmQA","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>