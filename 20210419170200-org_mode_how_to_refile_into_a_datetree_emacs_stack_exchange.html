<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>org mode - How to refile into a datetree - Emacs Stack Exchange</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/c5198630dc662cd9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c5198630dc662cd9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-a85322f027b40e20.js" defer=""></script><script src="/_next/static/chunks/main-00e108e884e8ba17.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5e7e1e817aab6e29.js" defer=""></script><script src="/_next/static/chunks/929-fd697a5772151b77.js" defer=""></script><script src="/_next/static/chunks/329-4859dea2fee324e7.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...slug%5D%5D-36a5cddfb88d7ae3.js" defer=""></script><script src="/_next/static/JKJOWddOoFnr8pNbt7NJE/_buildManifest.js" defer=""></script><script src="/_next/static/JKJOWddOoFnr8pNbt7NJE/_ssgManifest.js" defer=""></script></head><body><div id="__next"><main><h1>org mode - How to refile into a datetree - Emacs Stack Exchange</h1><section><h5>Tags</h5><ul>:orgmode:emacs:chronological:</ul></section><dl><dt>url</dt><dd><a href="https://emacs.stackexchange.com/questions/10597/how-to-refile-into-a-datetree">https://emacs.stackexchange.com/questions/10597/how-to-refile-into-a-datetree</a></dd></dl><pre class="src-block"><code class="language-elisp">(defun my/org-read-datetree-date (d)
&quot;Parse a time string D and return a date to pass to the datetree functions.&quot;
(let ((dtmp (nthcdr 3 (parse-time-string d))))
  (list (cadr dtmp) (car dtmp) (caddr dtmp))))

(defun my/org-refile-to-archive-datetree ()
  &quot;Refile an entry to a datetree under an archive.&quot;
  (interactive)
  (require &#x27;org-datetree)
  (let ((datetree-date (my/org-read-datetree-date (org-read-date t nil))))
    (org-refile nil nil (list nil (buffer-file-name) nil
                              (save-excursion
                                (org-datetree-find-date-create datetree-date)))))
  (setq this-command &#x27;my/org-refile-to-journal))
</code></pre><p> used the above to refile into the blotter before I decided that the blotter should just be appended to.
</p><section><h2>Backlinks</h2><ul><li><a href="/20240822193504-emacs">Emacs</a></li></ul></section></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"org mode - How to refile into a datetree - Emacs Stack Exchange","hast":{"type":"root","children":[{"type":"element","tagName":"dl","properties":{},"children":[{"type":"element","tagName":"dt","properties":{},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"dd","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://emacs.stackexchange.com/questions/10597/how-to-refile-into-a-datetree"},"children":[{"type":"text","value":"https://emacs.stackexchange.com/questions/10597/how-to-refile-into-a-datetree"}]}]}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-elisp"]},"children":[{"type":"text","value":"(defun my/org-read-datetree-date (d)\n\"Parse a time string D and return a date to pass to the datetree functions.\"\n(let ((dtmp (nthcdr 3 (parse-time-string d))))\n  (list (cadr dtmp) (car dtmp) (caddr dtmp))))\n\n(defun my/org-refile-to-archive-datetree ()\n  \"Refile an entry to a datetree under an archive.\"\n  (interactive)\n  (require 'org-datetree)\n  (let ((datetree-date (my/org-read-datetree-date (org-read-date t nil))))\n    (org-refile nil nil (list nil (buffer-file-name) nil\n                              (save-excursion\n                                (org-datetree-find-date-create datetree-date)))))\n  (setq this-command 'my/org-refile-to-journal))\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":" used the above to refile into the blotter before I decided that the blotter should just be appended to.\n"}]}]},"filetags":":orgmode:emacs:chronological:","backlinks":[{"path":"/20240822193504-emacs","title":"Emacs"}]},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["20210419170200-org_mode_how_to_refile_into_a_datetree_emacs_stack_exchange"]},"buildId":"JKJOWddOoFnr8pNbt7NJE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>