<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Accurate word count changes in git, useful for tracking changes on a paper in overleaf · GitHub</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/c5198630dc662cd9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c5198630dc662cd9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-a85322f027b40e20.js" defer=""></script><script src="/_next/static/chunks/main-00e108e884e8ba17.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5e7e1e817aab6e29.js" defer=""></script><script src="/_next/static/chunks/929-fd697a5772151b77.js" defer=""></script><script src="/_next/static/chunks/329-4859dea2fee324e7.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...slug%5D%5D-36a5cddfb88d7ae3.js" defer=""></script><script src="/_next/static/JKJOWddOoFnr8pNbt7NJE/_buildManifest.js" defer=""></script><script src="/_next/static/JKJOWddOoFnr8pNbt7NJE/_ssgManifest.js" defer=""></script></head><body><div id="__next"><main><h1>Accurate word count changes in git, useful for tracking changes on a paper in overleaf · GitHub</h1><dl><dt>url</dt><dd><a href="https://gist.github.com/MilesCranmer/5c7d86c8740219355d2dfdb184910711">https://gist.github.com/MilesCranmer/5c7d86c8740219355d2dfdb184910711</a></dd></dl><pre class="src-block"><code class="language-bash">  total=0
for sha in $(git rev-list --since=&quot;6am&quot; master | sed -e &#x27;$ d&#x27;); do
    added=$(git diff --word-diff=porcelain $sha~1..$sha|grep -e&quot;^+[^+]&quot;|wc -w|xargs)
    deleted=$(git diff --word-diff=porcelain $sha~1..$sha|grep -e&quot;^-[^-]&quot;|wc -w|xargs)
    duplicated=$(git diff $sha~1..$sha|grep -e&quot;^+[^+]&quot; -e&quot;^-[^-]&quot;|sed -e&#x27;s/.//&#x27;|sort|uniq -d|wc -w|xargs)
    if [ &quot;$added&quot; -eq &quot;0&quot; ]; then
        changed=$deleted
        total=$((total+deleted))
        echo &quot;added:&quot; $added, &quot;deleted:&quot; $deleted, &quot;duplicated:&quot;\
             $duplicated, &quot;changed:&quot; $changed
    elif [ &quot;$(echo &quot;$duplicated/$added &gt; 0.8&quot; | bc -l)&quot; -eq &quot;1&quot; ]; then
        echo &quot;added:&quot; $added, &quot;deleted:&quot; $deleted, &quot;duplicated:&quot;\
             $duplicated, &quot;changes counted:&quot; 0
    else
        changed=$((added+deleted))
        total=$((total+changed))
        echo &quot;added:&quot; $added, &quot;deleted:&quot; $deleted, &quot;duplicated:&quot;\
             $duplicated, &quot;changes counted:&quot; $changed
    fi
done
echo &quot;Total changed:&quot;, $total
</code></pre><p>Counts words changed per commit. Very cool!
</p></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Accurate word count changes in git, useful for tracking changes on a paper in overleaf · GitHub","hast":{"type":"root","children":[{"type":"element","tagName":"dl","properties":{},"children":[{"type":"element","tagName":"dt","properties":{},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"dd","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://gist.github.com/MilesCranmer/5c7d86c8740219355d2dfdb184910711"},"children":[{"type":"text","value":"https://gist.github.com/MilesCranmer/5c7d86c8740219355d2dfdb184910711"}]}]}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"  total=0\nfor sha in $(git rev-list --since=\"6am\" master | sed -e '$ d'); do\n    added=$(git diff --word-diff=porcelain $sha~1..$sha|grep -e\"^+[^+]\"|wc -w|xargs)\n    deleted=$(git diff --word-diff=porcelain $sha~1..$sha|grep -e\"^-[^-]\"|wc -w|xargs)\n    duplicated=$(git diff $sha~1..$sha|grep -e\"^+[^+]\" -e\"^-[^-]\"|sed -e's/.//'|sort|uniq -d|wc -w|xargs)\n    if [ \"$added\" -eq \"0\" ]; then\n        changed=$deleted\n        total=$((total+deleted))\n        echo \"added:\" $added, \"deleted:\" $deleted, \"duplicated:\"\\\n             $duplicated, \"changed:\" $changed\n    elif [ \"$(echo \"$duplicated/$added \u003e 0.8\" | bc -l)\" -eq \"1\" ]; then\n        echo \"added:\" $added, \"deleted:\" $deleted, \"duplicated:\"\\\n             $duplicated, \"changes counted:\" 0\n    else\n        changed=$((added+deleted))\n        total=$((total+changed))\n        echo \"added:\" $added, \"deleted:\" $deleted, \"duplicated:\"\\\n             $duplicated, \"changes counted:\" $changed\n    fi\ndone\necho \"Total changed:\", $total\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Counts words changed per commit. Very cool!\n"}]}]},"filetags":{},"backlinks":[]},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["accurate_word_count_changes_in_git_useful_for_tracking_changes_on_a_paper_in_overleaf_github"]},"buildId":"JKJOWddOoFnr8pNbt7NJE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>