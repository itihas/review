{"pageProps":{"title":"Accurate word count changes in git, useful for tracking changes on a paper in overleaf Â· GitHub","hast":{"type":"root","children":[{"type":"element","tagName":"dl","properties":{},"children":[{"type":"element","tagName":"dt","properties":{},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"dd","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://gist.github.com/MilesCranmer/5c7d86c8740219355d2dfdb184910711"},"children":[{"type":"text","value":"https://gist.github.com/MilesCranmer/5c7d86c8740219355d2dfdb184910711"}]}]}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"  total=0\nfor sha in $(git rev-list --since=\"6am\" master | sed -e '$ d'); do\n    added=$(git diff --word-diff=porcelain $sha~1..$sha|grep -e\"^+[^+]\"|wc -w|xargs)\n    deleted=$(git diff --word-diff=porcelain $sha~1..$sha|grep -e\"^-[^-]\"|wc -w|xargs)\n    duplicated=$(git diff $sha~1..$sha|grep -e\"^+[^+]\" -e\"^-[^-]\"|sed -e's/.//'|sort|uniq -d|wc -w|xargs)\n    if [ \"$added\" -eq \"0\" ]; then\n        changed=$deleted\n        total=$((total+deleted))\n        echo \"added:\" $added, \"deleted:\" $deleted, \"duplicated:\"\\\n             $duplicated, \"changed:\" $changed\n    elif [ \"$(echo \"$duplicated/$added > 0.8\" | bc -l)\" -eq \"1\" ]; then\n        echo \"added:\" $added, \"deleted:\" $deleted, \"duplicated:\"\\\n             $duplicated, \"changes counted:\" 0\n    else\n        changed=$((added+deleted))\n        total=$((total+changed))\n        echo \"added:\" $added, \"deleted:\" $deleted, \"duplicated:\"\\\n             $duplicated, \"changes counted:\" $changed\n    fi\ndone\necho \"Total changed:\", $total\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Counts words changed per commit. Very cool!\n"}]}]},"filetags":{},"backlinks":[]},"__N_SSG":true}