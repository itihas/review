{"pageProps":{"title":"Erase your darlings: immutable infrastructure for mutable systems - Graham Christensen","hast":{"type":"root","children":[{"type":"element","tagName":"dl","properties":{},"children":[{"type":"element","tagName":"dt","properties":{},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"dd","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://grahamc.com/blog/erase-your-darlings/"},"children":[{"type":"text","value":"https://grahamc.com/blog/erase-your-darlings/"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Deeply terrifying inbox-zero quest for intentionality around working machine state.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I'm a hoarder. Like Bernadette doing KonMari, I notice that this approach to daily-driver maintenance  is irrelevant to me in its highest form. My personal machine is a pet, not cattle.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Nonetheless, we can understand a lot about how to keep our pets well-groomed from this approach. We ultimately want to create a stable workflow to "},{"type":"element","tagName":"a","properties":{"href":"/20230808100433-elevate_state_to_configuration"},"children":[{"type":"text","value":"elevate state to configuration"}]},{"type":"text","value":".\n"}]},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Opting out\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before we can opt in to saving data, we must opt out of saving data by default. I do this by setting up my filesystem in a way that lets me easily and safely erase the unwanted data, while preserving the data I do want to keep.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"My preferred method for this is using a ZFS dataset and rolling it back to a blank snapshot before it is mounted. A partition of any other filesystem would work just as well too, running mkfs at boot, or something similar. If you have a lot of RAM, you could skip the erase step and make / a tmpfs.\n"}]}]}]},"filetags":{},"backlinks":[]},"__N_SSG":true}