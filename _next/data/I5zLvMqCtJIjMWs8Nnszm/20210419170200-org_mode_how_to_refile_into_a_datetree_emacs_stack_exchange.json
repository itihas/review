{"pageProps":{"title":"org mode - How to refile into a datetree - Emacs Stack Exchange","hast":{"type":"root","children":[{"type":"element","tagName":"dl","properties":{},"children":[{"type":"element","tagName":"dt","properties":{},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"dd","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://emacs.stackexchange.com/questions/10597/how-to-refile-into-a-datetree"},"children":[{"type":"text","value":"https://emacs.stackexchange.com/questions/10597/how-to-refile-into-a-datetree"}]}]}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-elisp"]},"children":[{"type":"text","value":"(defun my/org-read-datetree-date (d)\n\"Parse a time string D and return a date to pass to the datetree functions.\"\n(let ((dtmp (nthcdr 3 (parse-time-string d))))\n  (list (cadr dtmp) (car dtmp) (caddr dtmp))))\n\n(defun my/org-refile-to-archive-datetree ()\n  \"Refile an entry to a datetree under an archive.\"\n  (interactive)\n  (require 'org-datetree)\n  (let ((datetree-date (my/org-read-datetree-date (org-read-date t nil))))\n    (org-refile nil nil (list nil (buffer-file-name) nil\n                              (save-excursion\n                                (org-datetree-find-date-create datetree-date)))))\n  (setq this-command 'my/org-refile-to-journal))\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":" used the above to refile into the blotter before I decided that the blotter should just be appended to.\n"}]}]},"filetags":":orgmode:emacs:chronological:","backlinks":[{"path":"/20240822193504-emacs","title":"Emacs"}]},"__N_SSG":true}